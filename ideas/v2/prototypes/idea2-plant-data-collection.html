<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plant Data Collection System - Prototype</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #43cea2 0%, #185a9d 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: white;
            padding: 25px 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        h1 {
            color: #333;
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .subtitle {
            color: #666;
            font-size: 0.95rem;
        }

        .tab-nav {
            display: flex;
            gap: 10px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .tab-button {
            padding: 12px 24px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s;
            color: #666;
        }

        .tab-button:hover {
            border-color: #43cea2;
            color: #43cea2;
        }

        .tab-button.active {
            background: #43cea2;
            color: white;
            border-color: #43cea2;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .card h2 {
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 20px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            color: #555;
            font-size: 0.9rem;
            font-weight: 600;
        }

        input, select, textarea {
            padding: 10px 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 0.95rem;
            outline: none;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            border-color: #43cea2;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .image-upload {
            border: 2px dashed #e0e0e0;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .image-upload:hover {
            border-color: #43cea2;
            background: #f8fff8;
        }

        .image-upload input {
            display: none;
        }

        .image-preview {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .image-preview img {
            width: 120px;
            height: 120px;
            object-fit: cover;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }

        .btn {
            padding: 12px 30px;
            background: #43cea2;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #3ab890;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 206, 162, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .data-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            cursor: pointer;
        }

        .data-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .data-card-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            background: #f0f0f0;
        }

        .data-card-content {
            padding: 15px;
        }

        .data-card-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .data-card-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
            font-size: 0.9rem;
            color: #666;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .badge.green {
            background: #d4edda;
            color: #155724;
        }

        .badge.blue {
            background: #d1ecf1;
            color: #0c5460;
        }

        .badge.yellow {
            background: #fff3cd;
            color: #856404;
        }

        .badge.red {
            background: #f8d7da;
            color: #721c24;
        }

        .badge.orange {
            background: #ffe5cc;
            color: #cc5200;
        }

        .filter-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: end;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
            min-width: 200px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #43cea2;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        @media (max-width: 1024px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .crop-icon {
            font-size: 120px;
            text-align: center;
            padding: 40px 0;
        }

        .timeline-view {
            display: none;
        }

        .timeline-view.active {
            display: block;
        }

        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .chart-container h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .images-gallery {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            margin-bottom: 20px;
        }

        .images-gallery h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .gallery-item {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .gallery-item-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 8px;
            font-size: 0.85rem;
        }

        .records-timeline {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        }

        .records-timeline h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .timeline-item {
            border-left: 3px solid #43cea2;
            padding-left: 20px;
            padding-bottom: 20px;
            margin-bottom: 15px;
            position: relative;
        }

        .timeline-item:before {
            content: '';
            position: absolute;
            left: -7px;
            top: 0;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #43cea2;
        }

        .timeline-item.problem:before {
            background: #f44336;
        }

        .timeline-date {
            font-weight: 600;
            color: #43cea2;
            margin-bottom: 5px;
        }

        .timeline-content {
            color: #666;
            font-size: 0.95rem;
        }

        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-block;
        }

        .back-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        @media (max-width: 1024px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.5rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .data-grid {
                grid-template-columns: 1fr;
            }

            .chart-grid {
                grid-template-columns: 1fr;
            }

            .gallery-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Plant Data Collection System</h1>
            <p class="subtitle">‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡∏ä‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
        </header>

        <div class="tab-nav">
            <button class="tab-button active" onclick="showTab('browse')">‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
            <button class="tab-button" onclick="showTab('collect')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡∏ä</button>
            <button class="tab-button" onclick="showTab('compare')">‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö</button>
        </div>

        <!-- Tab 1: ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
        <div id="browse" class="tab-content active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalRecords">127</div>
                    <div class="stat-label">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalCrops">24</div>
                    <div class="stat-label">Crop ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalImages">385</div>
                    <div class="stat-label">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeCrops">8</div>
                    <div class="stat-label">Crop ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏•‡∏π‡∏Å</div>
                </div>
            </div>

            <div class="filter-section">
                <div class="filter-group">
                    <label>‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä</label>
                    <select id="filterPlantType" onchange="filterData()">
                        <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                        <option value="lettuce">‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏´‡∏≠‡∏°</option>
                        <option value="kale">‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤</option>
                        <option value="spinach">‡∏ú‡∏±‡∏Å‡πÇ‡∏Ç‡∏°</option>
                        <option value="basil">‡πÇ‡∏´‡∏£‡∏∞‡∏û‡∏≤</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</label>
                    <select id="filterGrowthStage" onchange="filterData()">
                        <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                        <option value="seed">‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞</option>
                        <option value="transplant">‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</option>
                        <option value="growth">‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</option>
                        <option value="harvest">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß</option>
                        <option value="problem">‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Crop ID</label>
                    <input type="text" id="searchCropId" placeholder="CROP-2025-001" onkeyup="filterData()">
                </div>
                <div class="filter-group">
                    <button class="btn" onclick="filterData()">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                </div>
            </div>

            <div class="data-grid" id="dataGrid">
                <!-- Data cards will be generated here -->
            </div>

            <!-- Timeline Detail View -->
            <div id="timelineView" class="timeline-view">
                <button class="back-btn" onclick="backToBrowse()">‚Üê ‡∏Å‡∏•‡∏±‡∏ö</button>
                <div id="timelineContent"></div>
            </div>
        </div>

        <!-- Tab 2: ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
        <div id="collect" class="tab-content">
            <div class="card">
                <h2>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡∏ä</h2>
                <form id="plantDataForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="cropId">Crop ID</label>
                            <input type="text" id="cropId" placeholder="‡πÄ‡∏ä‡πà‡∏ô CROP-2025-001" required>
                        </div>

                        <div class="form-group">
                            <label for="plantType">‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä</label>
                            <select id="plantType" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä</option>
                                <option value="lettuce">‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏´‡∏≠‡∏°</option>
                                <option value="kale">‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤</option>
                                <option value="spinach">‡∏ú‡∏±‡∏Å‡πÇ‡∏Ç‡∏°</option>
                                <option value="basil">‡πÇ‡∏´‡∏£‡∏∞‡∏û‡∏≤</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="growthStage">‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</label>
                            <select id="growthStage" required>
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞</option>
                                <option value="seed">‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞</option>
                                <option value="transplant">‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢</option>
                                <option value="growth">‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</option>
                                <option value="harvest">‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß</option>
                                <option value="problem">‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="recordDate">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</label>
                            <input type="date" id="recordDate" required>
                        </div>

                        <div class="form-group">
                            <label for="plantHeight">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á (cm)</label>
                            <input type="number" id="plantHeight" placeholder="‡πÄ‡∏ä‡πà‡∏ô 15.5" step="0.1">
                        </div>

                        <div class="form-group">
                            <label for="leafCount">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö</label>
                            <input type="number" id="leafCount" placeholder="‡πÄ‡∏ä‡πà‡∏ô 8">
                        </div>

                        <div class="form-group">
                            <label for="leafSize">‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏ö (cm)</label>
                            <input type="number" id="leafSize" placeholder="‡πÄ‡∏ä‡πà‡∏ô 10.5" step="0.1">
                        </div>

                        <div class="form-group">
                            <label for="leafColor">‡∏™‡∏µ‡πÉ‡∏ö</label>
                            <select id="leafColor">
                                <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡πÉ‡∏ö</option>
                                <option value="light-green">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏≠‡πà‡∏≠‡∏ô</option>
                                <option value="green">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</option>
                                <option value="dark-green">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°</option>
                                <option value="yellow">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</option>
                                <option value="brown">‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="ec">EC (mS/cm)</label>
                            <input type="number" id="ec" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1.5" step="0.1">
                        </div>

                        <div class="form-group">
                            <label for="ph">pH</label>
                            <input type="number" id="ph" placeholder="‡πÄ‡∏ä‡πà‡∏ô 6.0" step="0.1">
                        </div>

                        <div class="form-group">
                            <label for="ppfd">PPFD (Œºmol/m¬≤/s)</label>
                            <input type="number" id="ppfd" placeholder="‡πÄ‡∏ä‡πà‡∏ô 200">
                        </div>

                        <div class="form-group">
                            <label for="temperature">‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (¬∞C)</label>
                            <input type="number" id="temperature" placeholder="‡πÄ‡∏ä‡πà‡∏ô 25" step="0.1">
                        </div>

                        <div class="form-group full-width">
                            <label for="notes">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                            <textarea id="notes" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..."></textarea>
                        </div>

                        <div class="form-group full-width">
                            <label>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏û‡∏∑‡∏ä</label>
                            <div class="image-upload" onclick="document.getElementById('plantImages').click()">
                                <input type="file" id="plantImages" accept="image/*" multiple onchange="previewImages(event)">
                                <p>‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
                                <p style="font-size: 0.85rem; color: #999; margin-top: 10px;">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå JPG, PNG (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏£‡∏π‡∏õ)</p>
                            </div>
                            <div class="image-preview" id="imagePreview"></div>
                        </div>
                    </div>

                    <div style="margin-top: 30px; display: flex; gap: 15px;">
                        <button type="submit" class="btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                        <button type="reset" class="btn btn-secondary">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Tab 3: ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö -->
        <div id="compare" class="tab-content">
            <div class="card">
                <h2>‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï</h2>
                <p style="color: #666; padding: 40px; text-align: center;">
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡∏ä‡∏à‡∏≤‡∏Å Tab "‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï<br>
                    (‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏Å‡∏£‡∏≤‡∏ü‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö, ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡πà‡∏á‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°)
                </p>
            </div>
        </div>
    </div>

    <script>
        // Mock data - ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ crop
        const mockData = {
            'CROP-2025-001': {
                cropId: 'CROP-2025-001',
                plantType: '‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏´‡∏≠‡∏°',
                status: 'harvested',
                records: [
                    {
                        date: '2025-10-01',
                        growthStage: '‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞',
                        height: 0,
                        leafCount: 0,
                        leafSize: 0,
                        ec: 1.2,
                        ph: 6.0,
                        ppfd: 150,
                        temp: 24,
                        notes: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏≤‡∏∞',
                        image: 'https://via.placeholder.com/300x200/8BC34A/ffffff?text=Seed'
                    },
                    {
                        date: '2025-10-08',
                        growthStage: '‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢',
                        height: 3.5,
                        leafCount: 2,
                        leafSize: 2.0,
                        ec: 1.4,
                        ph: 6.0,
                        ppfd: 180,
                        temp: 25,
                        notes: '‡∏¢‡πâ‡∏≤‡∏¢‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö',
                        image: 'https://via.placeholder.com/300x200/8BC34A/ffffff?text=Transplant'
                    },
                    {
                        date: '2025-10-15',
                        growthStage: '‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï',
                        height: 8.5,
                        leafCount: 6,
                        leafSize: 5.2,
                        ec: 1.5,
                        ph: 6.1,
                        ppfd: 200,
                        temp: 24,
                        notes: '‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏î‡∏µ',
                        image: 'https://via.placeholder.com/300x200/4CAF50/ffffff?text=Growing'
                    },
                    {
                        date: '2025-10-22',
                        growthStage: '‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï',
                        height: 14.2,
                        leafCount: 10,
                        leafSize: 9.5,
                        ec: 1.5,
                        ph: 6.0,
                        ppfd: 210,
                        temp: 25,
                        notes: '‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏î‡∏µ',
                        image: 'https://via.placeholder.com/300x200/4CAF50/ffffff?text=Growing+Well'
                    },
                    {
                        date: '2025-11-01',
                        growthStage: '‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß',
                        height: 18.5,
                        leafCount: 12,
                        leafSize: 12.5,
                        ec: 1.5,
                        ph: 6.0,
                        ppfd: 205,
                        temp: 24,
                        notes: '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å 185g',
                        images: [
                            'https://via.placeholder.com/300x200/2E7D32/ffffff?text=Harvest+Top',
                            'https://via.placeholder.com/300x200/2E7D32/ffffff?text=Harvest+Side'
                        ]
                    }
                ]
            },
            'CROP-2025-002': {
                cropId: 'CROP-2025-002',
                plantType: '‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤',
                status: 'problem',
                records: [
                    {
                        date: '2025-10-05',
                        growthStage: '‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞',
                        height: 0,
                        leafCount: 0,
                        leafSize: 0,
                        ec: 1.5,
                        ph: 6.2,
                        ppfd: 180,
                        temp: 25,
                        notes: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏≤‡∏∞',
                        image: 'https://via.placeholder.com/300x200/2196F3/ffffff?text=Kale+Seed'
                    },
                    {
                        date: '2025-10-12',
                        growthStage: '‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢',
                        height: 4.0,
                        leafCount: 2,
                        leafSize: 2.5,
                        ec: 1.6,
                        ph: 6.1,
                        ppfd: 200,
                        temp: 26,
                        notes: '‡∏¢‡πâ‡∏≤‡∏¢‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö',
                        image: 'https://via.placeholder.com/300x200/2196F3/ffffff?text=Transplant'
                    },
                    {
                        date: '2025-10-20',
                        growthStage: '‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï',
                        height: 10.5,
                        leafCount: 7,
                        leafSize: 6.8,
                        ec: 1.7,
                        ph: 6.2,
                        ppfd: 210,
                        temp: 25,
                        notes: '‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏õ‡∏Å‡∏ï‡∏¥',
                        image: 'https://via.placeholder.com/300x200/1976D2/ffffff?text=Growing'
                    },
                    {
                        date: '2025-10-25',
                        growthStage: '‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤',
                        height: 12.0,
                        leafCount: 8,
                        leafSize: 7.2,
                        leafColor: '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á',
                        ec: 2.3,
                        ph: 6.8,
                        ppfd: 205,
                        temp: 28,
                        notes: '‡∏û‡∏ö‡πÉ‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á EC ‡∏™‡∏π‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á',
                        images: [
                            'https://via.placeholder.com/300x200/FF9800/ffffff?text=Yellow+Leaf+1',
                            'https://via.placeholder.com/300x200/FF9800/ffffff?text=Yellow+Leaf+2',
                            'https://via.placeholder.com/300x200/FF9800/ffffff?text=Yellow+Leaf+3'
                        ]
                    },
                    {
                        date: '2025-10-28',
                        growthStage: '‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï',
                        height: 15.2,
                        leafCount: 10,
                        leafSize: 10.0,
                        ec: 1.8,
                        ph: 6.2,
                        ppfd: 210,
                        temp: 25,
                        notes: '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç EC ‡πÅ‡∏•‡πâ‡∏ß ‡πÉ‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô',
                        image: 'https://via.placeholder.com/300x200/2196F3/ffffff?text=Recovering'
                    }
                ]
            },
            'CROP-2025-003': {
                cropId: 'CROP-2025-003',
                plantType: '‡∏ú‡∏±‡∏Å‡πÇ‡∏Ç‡∏°',
                status: 'growing',
                records: [
                    {
                        date: '2025-10-15',
                        growthStage: '‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞',
                        height: 0,
                        leafCount: 0,
                        leafSize: 0,
                        ec: 1.2,
                        ph: 5.8,
                        ppfd: 160,
                        temp: 23,
                        notes: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏≤‡∏∞',
                        image: 'https://via.placeholder.com/300x200/FF9800/ffffff?text=Spinach+Seed'
                    },
                    {
                        date: '2025-10-25',
                        growthStage: '‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢',
                        height: 8.5,
                        leafCount: 6,
                        leafSize: 5.5,
                        ec: 1.2,
                        ph: 5.8,
                        ppfd: 190,
                        temp: 24,
                        notes: '‡∏¢‡πâ‡∏≤‡∏¢‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö ‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏î‡∏µ',
                        image: 'https://via.placeholder.com/300x200/FF9800/ffffff?text=Transplant'
                    }
                ]
            },
            'CROP-2025-004': {
                cropId: 'CROP-2025-004',
                plantType: '‡πÇ‡∏´‡∏£‡∏∞‡∏û‡∏≤',
                status: 'growing',
                records: [
                    {
                        date: '2025-10-10',
                        growthStage: '‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞',
                        height: 0,
                        leafCount: 0,
                        leafSize: 0,
                        ec: 1.4,
                        ph: 6.5,
                        ppfd: 200,
                        temp: 26,
                        notes: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏≤‡∏∞',
                        image: 'https://via.placeholder.com/300x200/9C27B0/ffffff?text=Basil+Seed'
                    },
                    {
                        date: '2025-10-18',
                        growthStage: '‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≤‡∏¢',
                        height: 5.0,
                        leafCount: 4,
                        leafSize: 3.0,
                        ec: 1.5,
                        ph: 6.4,
                        ppfd: 220,
                        temp: 27,
                        notes: '‡∏¢‡πâ‡∏≤‡∏¢‡∏•‡∏á‡∏£‡∏∞‡∏ö‡∏ö',
                        image: 'https://via.placeholder.com/300x200/9C27B0/ffffff?text=Transplant'
                    },
                    {
                        date: '2025-10-30',
                        growthStage: '‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï',
                        height: 20.0,
                        leafCount: 15,
                        leafSize: 8.0,
                        ec: 1.6,
                        ph: 6.5,
                        ppfd: 230,
                        temp: 26,
                        notes: '‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏î‡∏µ‡∏°‡∏≤‡∏Å',
                        image: 'https://via.placeholder.com/300x200/7B1FA2/ffffff?text=Growing+Excellent'
                    }
                ]
            }
        };

        // Set today's date as default
        document.getElementById('recordDate').valueAsDate = new Date();

        // Preview images
        function previewImages(event) {
            const preview = document.getElementById('imagePreview');
            preview.innerHTML = '';

            const files = event.target.files;
            for (let i = 0; i < Math.min(files.length, 5); i++) {
                const file = files[i];
                const reader = new FileReader();

                reader.onload = function(e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    preview.appendChild(img);
                }

                reader.readAsDataURL(file);
            }
        }

        // Form submission
        document.getElementById('plantDataForm').addEventListener('submit', function(e) {
            e.preventDefault();
            alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!\n\n‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û');
            this.reset();
            document.getElementById('imagePreview').innerHTML = '';
        });

        // Tab switching
        function showTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // Remove active class from all buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked button
            event.target.classList.add('active');

            // Load data for browse tab
            if (tabName === 'browse') {
                renderDataCards();
            }
        }

        // Render data cards - ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ crop ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
        function renderDataCards() {
            const grid = document.getElementById('dataGrid');
            grid.innerHTML = '';

            Object.values(mockData).forEach(crop => {
                const latestRecord = crop.records[crop.records.length - 1];
                const hasProblem = crop.records.some(r => r.growthStage === '‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤');

                let badgeClass = 'blue';
                if (latestRecord.growthStage === '‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤') badgeClass = 'red';
                else if (latestRecord.growthStage === '‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß') badgeClass = 'green';
                else if (latestRecord.growthStage === '‡∏ß‡∏±‡∏ô‡πÄ‡∏û‡∏≤‡∏∞') badgeClass = 'yellow';

                // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡∏ä‡∏ô‡∏¥‡∏î‡∏û‡∏∑‡∏ä
                let icon = 'ü•¨';
                if (crop.plantType === '‡∏Ñ‡∏∞‡∏ô‡πâ‡∏≤') icon = 'ü•¨';
                else if (crop.plantType === '‡∏ú‡∏±‡∏Å‡∏Å‡∏≤‡∏î‡∏´‡∏≠‡∏°') icon = 'ü•ó';
                else if (crop.plantType === '‡∏ú‡∏±‡∏Å‡πÇ‡∏Ç‡∏°') icon = 'üåø';
                else if (crop.plantType === '‡πÇ‡∏´‡∏£‡∏∞‡∏û‡∏≤') icon = 'üåø';

                const card = document.createElement('div');
                card.className = 'data-card';
                card.onclick = () => viewCropTimeline(crop.cropId);
                card.innerHTML = `
                    <div class="crop-icon">${icon}</div>
                    <div class="data-card-content">
                        <div class="data-card-title">${crop.cropId}</div>
                        <div class="data-card-info">
                            <div><strong>‡∏ä‡∏ô‡∏¥‡∏î:</strong> ${crop.plantType}</div>
                            <div><strong>‡∏£‡∏∞‡∏¢‡∏∞‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:</strong> <span class="badge ${badgeClass}">${latestRecord.growthStage}</span></div>
                            ${hasProblem ? '<div><span class="badge red">‡πÄ‡∏Ñ‡∏¢‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤</span></div>' : ''}
                            <div><strong>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î:</strong> ${latestRecord.date}</div>
                            <div><strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</strong> ${crop.records.length} ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</div>
                            <div><strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á:</strong> ${latestRecord.height} cm | <strong>‡πÉ‡∏ö:</strong> ${latestRecord.leafCount} ‡πÉ‡∏ö</div>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // ‡∏î‡∏π timeline ‡∏Ç‡∏≠‡∏á crop
        function viewCropTimeline(cropId) {
            const crop = mockData[cropId];
            if (!crop) return;

            // ‡∏ã‡πà‡∏≠‡∏ô data grid ‡πÅ‡∏™‡∏î‡∏á timeline view
            document.getElementById('dataGrid').style.display = 'none';
            document.querySelector('.stats-grid').style.display = 'none';
            document.querySelector('.filter-section').style.display = 'none';
            document.getElementById('timelineView').classList.add('active');

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• environment 7 ‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á (mock data ‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå)
            const last7Days = [];
            const today = new Date('2025-11-05');
            for (let i = 6; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(date.getDate() - i);
                const dateStr = date.toISOString().split('T')[0];
                last7Days.push({
                    date: dateStr,
                    ec: 1.5 + (Math.random() * 0.4 - 0.2),
                    ph: 6.0 + (Math.random() * 0.4 - 0.2),
                    ppfd: 200 + Math.random() * 30 - 15,
                    temp: 25 + Math.random() * 4 - 2
                });
            }

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á HTML
            const content = document.getElementById('timelineContent');
            content.innerHTML = `
                <div class="card">
                    <h2>${crop.cropId} - ${crop.plantType}</h2>
                    <p style="color: #666; margin-bottom: 20px;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${crop.records.length} ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</p>
                </div>

                <h3 style="color: white; margin-bottom: 15px;">‡∏Å‡∏£‡∏≤‡∏ü Environment 7 ‡∏ß‡∏±‡∏ô‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á (‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏ô‡πÄ‡∏ã‡∏≠‡∏£‡πå)</h3>
                <div class="chart-grid">
                    <div class="chart-container">
                        <h3>EC (mS/cm)</h3>
                        <canvas id="ecChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>pH</h3>
                        <canvas id="phChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>PPFD (Œºmol/m¬≤/s)</h3>
                        <canvas id="ppfdChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (¬∞C)</h3>
                        <canvas id="tempChart"></canvas>
                    </div>
                </div>

                <div class="images-gallery">
                    <h3>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (${crop.records.map(r => r.images || [r.image]).flat().length} ‡∏£‡∏π‡∏õ)</h3>
                    <div class="gallery-grid">
                        ${crop.records.map(r => {
                            // ‡πÅ‡∏ï‡πà‡∏•‡∏∞ record ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏π‡∏õ
                            const images = r.images || [r.image];
                            return images.map((img, idx) => `
                                <div class="gallery-item">
                                    <img src="${img}" alt="${r.growthStage}">
                                    <div class="gallery-item-label">
                                        ${r.date} - ${r.growthStage}${images.length > 1 ? ' (' + (idx + 1) + '/' + images.length + ')' : ''}
                                    </div>
                                </div>
                            `).join('');
                        }).join('')}
                    </div>
                </div>

                <div class="records-timeline">
                    <h3>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏≠‡∏Å</h3>
                    ${crop.records.slice().reverse().map(r => `
                        <div class="timeline-item ${r.growthStage === '‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤' ? 'problem' : ''}">
                            <div class="timeline-date">${r.date} - ${r.growthStage}</div>
                            <div class="timeline-content">
                                <div>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á: ${r.height} cm | ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÉ‡∏ö: ${r.leafCount} ‡πÉ‡∏ö | ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏ö: ${r.leafSize} cm</div>
                                <div>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ${r.notes}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;

            // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü
            const labels = last7Days.map(d => d.date);
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: { beginAtZero: false }
                }
            };

            new Chart(document.getElementById('ecChart'), {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'EC',
                        data: last7Days.map(d => d.ec.toFixed(2)),
                        borderColor: '#43cea2',
                        backgroundColor: 'rgba(67, 206, 162, 0.1)',
                        tension: 0.4
                    }]
                },
                options: chartOptions
            });

            new Chart(document.getElementById('phChart'), {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'pH',
                        data: last7Days.map(d => d.ph.toFixed(2)),
                        borderColor: '#2196F3',
                        backgroundColor: 'rgba(33, 150, 243, 0.1)',
                        tension: 0.4
                    }]
                },
                options: chartOptions
            });

            new Chart(document.getElementById('ppfdChart'), {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'PPFD',
                        data: last7Days.map(d => d.ppfd.toFixed(0)),
                        borderColor: '#FF9800',
                        backgroundColor: 'rgba(255, 152, 0, 0.1)',
                        tension: 0.4
                    }]
                },
                options: chartOptions
            });

            new Chart(document.getElementById('tempChart'), {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Temperature',
                        data: last7Days.map(d => d.temp.toFixed(1)),
                        borderColor: '#F44336',
                        backgroundColor: 'rgba(244, 67, 54, 0.1)',
                        tension: 0.4
                    }]
                },
                options: chartOptions
            });
        }

        function backToBrowse() {
            document.getElementById('dataGrid').style.display = 'grid';
            document.querySelector('.stats-grid').style.display = 'grid';
            document.querySelector('.filter-section').style.display = 'flex';
            document.getElementById('timelineView').classList.remove('active');
        }

        // Filter data
        function filterData() {
            console.log('Filtering data...');
            // In real app, this would filter the data based on selected filters
        }

        // Initialize
        renderDataCards();
    </script>
</body>
</html>
