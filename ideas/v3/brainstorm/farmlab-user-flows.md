# 🔄 FarmLab - User Flows
**แพลตฟอร์มข้อมูลแลปฟาร์ม**  
**วันที่:** 10 พฤศจิกายน 2025

---

## 📋 ภาพรวม User Flows

เอกสารนี้อธิบาย user flows สำหรับผู้ใช้งานหลัก 3 กลุ่ม:
1. **นักวิจัยพืช** - สร้างโครงการและ template
2. **คนปลูก/คนดูแลพืช** - บันทึกข้อมูลประจำวัน
3. **ผู้จัดการฟาร์ม** - ดูภาพรวมและวิเคราะห์

---

## 👨‍🔬 Flow 1: นักวิจัยพืช - สร้างโครงการวิจัยใหม่

### 🎯 เป้าหมาย
สร้างโครงการวิจัยใหม่ พร้อม template สำหรับบันทึกข้อมูล

### 📝 Steps

#### 1. เข้าสู่ระบบและไปหน้าโครงการ
```
เปิด web app → Login → หน้าแรก (Dashboard)
↓
Dashboard แสดง:
  📊 โครงการทั้งหมด
  📈 สถิติล่าสุด
  🌱 รอบที่กำลังดำเนินการ
```

#### 2. สร้างโครงการใหม่
```
กดปุ่ม "+ สร้างโครงการใหม่"
↓
กรอกข้อมูลโครงการ:

📝 ชื่อโครงการ: "ทดสอบสูตรปุ๋ยใหม่ A"
📄 คำอธิบาย: "ทดสอบสูตรปุ๋ย NPK 15-15-15 กับผักกาดหอม"
📅 วันที่เริ่ม: 10/11/2025
👤 ผู้รับผิดชอบ: [เลือกจากรายชื่อ] ดร.สมชาย
🎯 เป้าหมาย: "เพิ่มผลผลิต 20%"
📍 สถานที่: โรงเรือน 1 → Zone A → Layer 1-5
↓
กด "สร้างโครงการ"
```


#### 3. สร้าง Template สำหรับบันทึกข้อมูล
```
เข้าโครงการที่สร้าง → แท็บ "Templates"
↓
กดปุ่ม "+ สร้าง Template"
↓
กรอกข้อมูล Template:

📝 ชื่อ Template: "ผักกาดหอม - การเจริญเติบโต"
🌱 ชนิดพืช: ผักกาดหอม
📋 คำอธิบาย: "บันทึกการเจริญเติบโตรายวัน"
↓
เพิ่มฟิลด์ที่ต้องการเก็บ:

[+ เพิ่มฟิลด์]

1. ความสูง
   - ประเภท: ตัวเลข
   - หน่วย: เซนติเมตร
   - Required: ✓

2. จำนวนใบ
   - ประเภท: ตัวเลข
   - หน่วย: ใบ
   - Required: ✓

3. สีใบ
   - ประเภท: Dropdown
   - ตัวเลือก: เขียวอ่อน, เขียวเข้ม, เหลือง, แดง
   - Required: ✓

4. น้ำหนัก
   - ประเภท: ตัวเลข
   - หน่วย: กรัม
   - Required: ✗

5. ความกว้างใบ
   - ประเภท: ตัวเลข
   - หน่วย: เซนติเมตร
   - Required: ✗

6. หมายเหตุ
   - ประเภท: ข้อความยาว
   - Required: ✗

7. รูปภาพ
   - ประเภท: อัพโหลดรูป
   - จำนวน: 3-5 รูป
   - Required: ✓
↓
กด "บันทึก Template"
```


#### 4. สร้างรอบปลูก (Crop)
```
แท็บ "รอบปลูก" → กด "+ เพิ่มรอบใหม่"
↓
กรอกข้อมูล:

📝 ชื่อรอบ: "Crop 1 - สูตร A"
📅 วันที่เริ่ม: 10/11/2025
📅 วันที่คาดว่าจะเก็บเกี่ยว: 10/12/2025 (30 วัน)
🌱 ชนิดพืช: ผักกาดหอม
🔢 จำนวนต้น: 50 ต้น
📍 สถานที่: โรงเรือน 1 → Zone A → Layer A1-A5 (10 ต้น/layer)
📋 Template ที่ใช้: "ผักกาดหอม - การเจริญเติบโต"
🧪 สูตรปุ๋ย: NPK 15-15-15
💧 ระบบน้ำ: Hydroponic
📝 หมายเหตุ: "ทดสอบสูตรใหม่ครั้งแรก"
↓
🔗 เชื่อมต่อ IoT:
[✓] เชื่อมกับเซนเซอร์ Zone A
[✓] เชื่อมกับกล้องถ่ายภาพ Camera 1
↓
กด "สร้างรอบ"
↓
ระบบแสดงยืนยัน:
"✅ สร้าง Crop 1 เรียบร้อย
✅ เชื่อมต่อเซนเซอร์และกล้องสำเร็จ
พร้อมให้ทีมบันทึกข้อมูลได้แล้ว"
```

#### 5. เชิญทีมเข้าโครงการ
```
แท็บ "สมาชิก" → กด "+ เชิญสมาชิก"
↓
เลือกสมาชิกและบทบาท:

👨‍🌾 คนปลูก (สิทธิ์บันทึกข้อมูล):
  [✓] สมชาย ใจดี
  [✓] สมหญิง รักษ์ต้น

👨‍💼 ผู้จัดการ (สิทธิ์ดูข้อมูล + Export):
  [✓] คุณสมศักดิ์ ดูแล

👨‍🔬 นักวิจัย (สิทธิ์ทั้งหมด):
  [✓] ดร.สมปอง วิจัย
↓
กด "ส่งคำเชิญ"
↓
ระบบส่งอีเมล/LINE แจ้งเตือนไปหาสมาชิก
```

### ✅ ผลลัพธ์
- โครงการถูกสร้างเรียบร้อย
- Template พร้อมใช้งาน
- Crop (รอบปลูก) พร้อมเริ่ม
- เชื่อมต่อ IoT และกล้องสำเร็จ
- ทีมได้รับการเชิญและสามารถเข้าถึงโครงการ
- คนปลูกสามารถเริ่มบันทึกข้อมูล Hybrid ได้ทันที


---

## 👨‍🌾 Flow 2: คนปลูก - บันทึกข้อมูลประจำวัน

### 🎯 เป้าหมาย
บันทึกข้อมูลการเจริญเติบโตของพืชตาม template ที่นักวิจัยกำหนด

### 📝 Steps

#### 1. เข้าสู่ระบบและเลือกโครงการ
```
เปิด web app → Login
↓
หน้าแรกแสดงโครงการที่มีสิทธิ์เข้าถึง:

┌─────────────────────────────────┐
│ 🌱 ทดสอบสูตรปุ๋ยใหม่ A        │
│ Crop 1: วันที่ 15/30           │
│ บันทึกล่าสุด: วันนี้ 09:30    │
│ 🔗 IoT: เชื่อมต่อ ✅           │
│ [เข้าดู]                        │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 🌱 ทดสอบแสง LED                │
│ Crop 2: วันที่ 8/30            │
│ บันทึกล่าสุด: เมื่อวาน 16:00  │
│ 🔗 IoT: เชื่อมต่อ ✅           │
│ [เข้าดู]                        │
└─────────────────────────────────┘
↓
คลิก [เข้าดู] ที่ "ทดสอบสูตรปุ๋ยใหม่ A"
```

#### 2. เลือกรอบที่ต้องการบันทึก
```
เห็นรายการรอบทั้งหมด:

┌─────────────────────────────────┐
│ 📊 Crop 1 - สูตร A             │
│ สถานะ: 🟢 กำลังดำเนินการ      │
│ วันที่: 15/30                   │
│ บันทึกแล้ว: 45 รายการ (Hybrid) │
│ 🔗 IoT: pH 6.2, EC 1.8         │
│ [บันทึกข้อมูล]                 │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📊 Crop 2 - สูตร B             │
│ สถานะ: ⏸️ ยังไม่เริ่ม          │
│ วันที่เริ่ม: 15/12/2025        │
│ [ดูรายละเอียด]                 │
└─────────────────────────────────┘
↓
คลิก [บันทึกข้อมูล] ที่ "รอบที่ 1"
```


#### 3. บันทึกข้อมูลตาม Template (Hybrid: คน + IoT + กล้อง)
```
กดปุ่ม "+ บันทึกข้อมูลใหม่"
↓
ระบบแสดงฟอร์มตาม Template:

┌─────────────────────────────────────────┐
│ 📝 บันทึกข้อมูล - ผักกาดหอม (Hybrid)  │
├─────────────────────────────────────────┤
│ 📋 โครงการ: ทดสอบสูตรปุ๋ยใหม่ A (แสดง)│
│ 📊 Crop: Crop 1 - สูตร A (แสดง)       │
│                                         │
│ 📅 วันที่: 10/11/2025 (auto-fill)      │
│ ⏰ เวลา: 09:30 (auto-fill)             │
│                                         │
│ 📍 โรงเรือน: [เลือก] ▼                │
│    • โรงเรือน 1 ← เลือก                │
│    • โรงเรือน 2                        │
│                                         │
│ 📍 Zone: [เลือก] ▼                     │
│    • Zone A ← เลือก                    │
│    • Zone B                            │
│    • Zone C                            │
│                                         │
│ 📍 Layer: [เลือก] ▼                    │
│    • Layer A1                          │
│    • Layer A2                          │
│    • Layer A3 ← เลือก                  │
│    • Layer A4                          │
│    • Layer A5                          │
├─────────────────────────────────────────┤
│ 🔗 ข้อมูลจาก IoT (Auto-fill)          │
│ ✅ pH: 6.2 (ปกติ)                      │
│ ✅ EC: 1.8 mS/cm (ปกติ)                │
│ ✅ อุณหภูมิ: 25°C (ปกติ)               │
│ ✅ ความชื้น: 65% (ปกติ)                │
│ 📷 กล้อง: Camera 1 (เชื่อมต่อ)         │
│                                         │
├─────────────────────────────────────────┤
│ 📊 ข้อมูลที่คนบันทึก                   │
│                                         │
│ ความสูง (ซม.) *                        │
│ [12] ซม.                               │
│                                         │
│ จำนวนใบ (ใบ) *                        │
│ [6] ใบ                                 │
│                                         │
│ สีใบ *                                 │
│ [เลือก] ▼                              │
│    • เขียวอ่อน                         │
│    • เขียวเข้ม ← เลือก                 │
│    • เหลือง                            │
│    • แดง                               │
│                                         │
│ น้ำหนัก (กรัม)                         │
│ [25] กรัม                              │
│                                         │
│ ความกว้างใบ (ซม.)                     │
│ [8] ซม.                                │
│                                         │
│ หมายเหตุ                               │
│ [เจริญเติบโตดี ใบสมบูรณ์]             │
│                                         │
├─────────────────────────────────────────┤
│ 📷 รูปภาพ (คน + กล้องอัตโนมัติ)       │
│                                         │
│ [📷 ถ่ายรูปเอง] [📁 อัพโหลด]          │
│ [🤖 ดึงจากกล้องอัตโนมัติ]             │
│                                         │
│ ┌─────┐ ┌─────┐ ┌─────┐               │
│ │ 📷  │ │ 📷  │ │ 🤖  │               │
│ │รูป1 │ │รูป2 │ │Auto │               │
│ └─────┘ └─────┘ └─────┘               │
│ ภาพรวม  ใบ     กล้อง                  │
│                                         │
├─────────────────────────────────────────┤
│ [ยกเลิก]              [💾 บันทึก]     │
└─────────────────────────────────────────┘
↓
กด "บันทึก"
↓
ระบบบันทึกข้อมูล Hybrid:
✅ ข้อมูลที่คนกรอก
✅ ข้อมูลจากเซนเซอร์ (pH, EC, อุณหภูมิ, ความชื้น)
✅ รูปภาพจากคน + กล้องอัตโนมัติ
↓
ระบบแสดงยืนยัน:
"✅ บันทึกข้อมูล Hybrid เรียบร้อย
โรงเรือน 1 → Zone A → Layer A3 | 10/11/2025 09:30
📊 ข้อมูลเซนเซอร์: pH 6.2, EC 1.8, Temp 25°C
📷 รูปภาพ: 2 รูป (คน) + 1 รูป (กล้อง)"
```

### ✅ ผลลัพธ์
- ข้อมูล Hybrid ถูกบันทึก (คน + IoT + กล้อง)
- รูปภาพจากคนและกล้องอัตโนมัติ
- ข้อมูลเซนเซอร์ถูกบันทึกพร้อมกัน
- นักวิจัยและผู้จัดการเห็นข้อมูลทันที
- ข้อมูลมีโครงสร้างชัดเจน พร้อมนำไปวิเคราะห์


---

## 🚨 Flow 2.1: คนปลูก - บันทึกปัญหาฉับพลัน

### 🎯 เป้าหมาย
บันทึกปัญหาที่เกิดขึ้นกะทันหัน (เช่น ใบเหลือง, โรคพืช, แมลง)

### 📝 Steps

#### 1. เข้าโครงการและรอบที่เจอปัญหา
```
เปิด app → เลือกโครงการ → เลือกรอบ
```

#### 2. บันทึกปัญหาด่วน
```
กดปุ่ม "🚨 บันทึกปัญหา" (ปุ่มสีแดงเด่น)
↓
ระบบแสดงฟอร์มด่วน:

┌─────────────────────────────────────────┐
│ 🚨 บันทึกปัญหาด่วน                     │
├─────────────────────────────────────────┤
│ 📋 โครงการ: ทดสอบสูตรปุ๋ยใหม่ A (แสดง)│
│ 📊 รอบ: รอบที่ 1 - สูตร A (แสดง)      │
│                                         │
│ ⚠️ ประเภทปัญหา *                       │
│ [เลือก] ▼                              │
│    • ใบเหลือง ← เลือก                  │
│    • โรคพืช                            │
│    • แมลง                              │
│    • ราก/ลำต้นเน่า                     │
│    • เจริญเติบโตช้า                    │
│    • อื่น ๆ                            │
│                                         │
│ 📍 ตำแหน่ง *                           │
│ โรงเรือน: [โรงเรือน 1] ▼              │
│ Zone: [Zone A] ▼                       │
│ Layer: [Layer A3] ▼                    │
│                                         │
│ 🔢 จำนวนต้นที่มีปัญหา                 │
│ [5-6] ต้น                              │
│                                         │
│ 📝 รายละเอียด *                        │
│ ┌─────────────────────────────────┐   │
│ │ พบใบเหลือง 5-6 ต้น             │   │
│ │ โรงเรือน 1 Zone A Layer A3     │   │
│ │ ตรวจสอบพบว่าอาจเป็นเพราะ      │   │
│ │ pH สูงเกินไป (7.8)             │   │
│ │ ต้องปรับ pH ลง                 │   │
│ └─────────────────────────────────┘   │
│                                         │
│ 📷 รูปภาพ *                            │
│ [📷 ถ่ายรูป] [📁 อัพโหลด]             │
│                                         │
│ ┌─────┐ ┌─────┐ ┌─────┐               │
│ │ 📷  │ │ 📷  │ │ 📷  │               │
│ │รูป1 │ │รูป2 │ │รูป3 │               │
│ └─────┘ └─────┘ └─────┘               │
│ ใบเหลือง ภาพรวม Layer                 │
│                                         │
│ ⏰ เวลาที่พบ: 14:30 (auto-fill)       │
│                                         │
├─────────────────────────────────────────┤
│ 🔔 แจ้งเตือน                           │
│ [✓] แจ้งนักวิจัย                       │
│ [✓] แจ้งผู้จัดการ                      │
│ [ ] แจ้งทีมบำรุงรักษา                  │
│                                         │
├─────────────────────────────────────────┤
│ [ยกเลิก]              [🚨 บันทึก]     │
└─────────────────────────────────────────┘
↓
กด "บันทึก"
```


#### 3. ระบบส่งการแจ้งเตือน
```
ระบบส่ง LINE/Email ไปหา:

📱 LINE ไปหานักวิจัย:
"🚨 พบปัญหา: ใบเหลือง
โครงการ: ทดสอบสูตรปุ๋ยใหม่ A
รอบที่ 1 | โรงเรือน 1 → Zone A → Layer A3
จำนวน: 5-6 ต้น
รายงานโดย: สมชาย
เวลา: 14:30
ดูรายละเอียด: [Link]"

📧 Email ไปหาผู้จัดการ:
หัวข้อ: [FarmLab] 🚨 พบปัญหา: ใบเหลือง
เนื้อหา: รายละเอียดเหมือน LINE
```

#### 4. ติดตามการแก้ไข
```
นักวิจัยเข้าดูปัญหา → แนะนำวิธีแก้
↓
คนปลูกได้รับการแจ้งเตือน
↓
แก้ไขปัญหา (ปรับ pH)
↓
กลับมาอัพเดทสถานะ:

เข้าหน้าปัญหา → กด "อัพเดทสถานะ"
↓
[✓] แก้ไขแล้ว
📝 วิธีแก้: "ปรับ pH จาก 7.8 เป็น 6.5"
⏰ เวลาที่แก้: 15:00
📷 รูปหลังแก้: [อัพโหลด]
↓
กด "บันทึก"
↓
ระบบส่งแจ้งเตือน:
"✅ ปัญหาแก้ไขแล้ว: ใบเหลือง
โรงเรือน 1 → Zone A → Layer A3 | แก้โดย: สมชาย"
```

### ✅ ผลลัพธ์
- ปัญหาถูกบันทึกพร้อม timestamp
- ทีมที่เกี่ยวข้องได้รับการแจ้งเตือนทันที
- มีประวัติปัญหาและวิธีแก้ไว้วิเคราะห์ต่อ
- สามารถติดตามสถานะการแก้ไขได้


---

## 👨‍💼 Flow 3: ผู้จัดการฟาร์ม - ดูภาพรวมและวิเคราะห์

### 🎯 เป้าหมาย
ดูภาพรวมโครงการทั้งหมด เปรียบเทียบผล และดูข้อมูลเซนเซอร์

### 📝 Steps

#### 1. เข้าสู่ระบบและดู Dashboard
```
เปิด web app → Login
↓
หน้าแรก (Dashboard) แสดง:

┌─────────────────────────────────────────┐
│ 📊 ภาพรวมทั้งหมด                       │
├─────────────────────────────────────────┤
│ โครงการทั้งหมด: 5 โครงการ             │
│ รอบที่กำลังดำเนินการ: 8 รอบ           │
│ บันทึกวันนี้: 23 รายการ                │
│ ปัญหาที่พบ: 2 รายการ (ยังไม่แก้ 1)    │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 🌱 โครงการล่าสุด                       │
├─────────────────────────────────────────┤
│ • ทดสอบสูตรปุ๋ยใหม่ A                  │
│   รอบที่ 1: วันที่ 15/30               │
│   บันทึกล่าสุด: 09:30                  │
│                                         │
│ • ทดสอบแสง LED                         │
│   รอบที่ 2: วันที่ 8/30                │
│   บันทึกล่าสุด: เมื่อวาน              │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ 📈 กราฟเซนเซอร์ล่าสุด (Zone A)        │
├─────────────────────────────────────────┤
│ pH: 6.2 🟢 ปกติ                        │
│ EC: 1.8 🟢 ปกติ                        │
│ อุณหภูมิ: 25°C 🟢 ปกติ                │
│ ความชื้น: 65% 🟢 ปกติ                 │
│                                         │
│ [ดูกราฟทั้งหมด]                        │
└─────────────────────────────────────────┘

┌─────────────────────────────────────────┐
│ ⚠️ การแจ้งเตือนล่าสุด                  │
├─────────────────────────────────────────┤
│ 🚨 ใบเหลือง | โรงเรือน 1 Zone A Layer A3 | 14:30 │
│    สถานะ: แก้ไขแล้ว ✅                 │
│                                         │
│ 🟡 pH สูง | โรงเรือน 1 Zone B | เมื่อวาน │
│    สถานะ: แก้ไขแล้ว ✅                 │
└─────────────────────────────────────────┘
```


#### 2. ดูรายละเอียดโครงการ
```
คลิกเข้าโครงการ "ทดสอบสูตรปุ๋ยใหม่ A"
↓
เห็นภาพรวม:

┌─────────────────────────────────────────┐
│ 🌱 ทดสอบสูตรปุ๋ยใหม่ A                 │
├─────────────────────────────────────────┤
│ 📊 สถิติโครงการ                        │
│                                         │
│ Crop ทั้งหมด: 2 Crop                   │
│ • Crop 1: กำลังดำเนินการ (วันที่ 15)  │
│ • Crop 2: ยังไม่เริ่ม                 │
│                                         │
│ บันทึกทั้งหมด: 45 รายการ (Hybrid)      │
│ ข้อมูล IoT: 45 records                │
│ รูปภาพ: 90 รูป (คน 60 + กล้อง 30)    │
│ ปัญหาที่พบ: 2 รายการ (แก้แล้ว 2)      │
│                                         │
│ ผู้รับผิดชอบ: ดร.สมชาย                │
│ ทีม: 5 คน                              │
└─────────────────────────────────────────┘

[แท็บ: ภาพรวม | ข้อมูล | เซนเซอร์ | เปรียบเทียบ]
```

#### 3. ดูข้อมูลเซนเซอร์
```
คลิกแท็บ "เซนเซอร์"
↓
เห็นกราฟ:

┌─────────────────────────────────────────┐
│ 📈 ข้อมูลเซนเซอร์ - Zone A             │
├─────────────────────────────────────────┤
│ ช่วงเวลา: [7 วัน] [30 วัน] [ทั้งหมด] │
│                                         │
│ 📊 pH                                   │
│ ปัจจุบัน: 6.2                          │
│ [กราฟเส้น 7 วัน]                       │
│ ค่าเฉลี่ย: 6.3 | สูงสุด: 7.8 | ต่ำสุด: 5.9 │
│                                         │
│ 📊 EC (mS/cm)                           │
│ ปัจจุบัน: 1.8                          │
│ [กราฟเส้น 7 วัน]                       │
│ ค่าเฉลี่ย: 1.7 | สูงสุด: 2.1 | ต่ำสุด: 1.5 │
│                                         │
│ 📊 อุณหภูมิ (°C)                        │
│ ปัจจุบัน: 25°C                         │
│ [กราฟเส้น 7 วัน]                       │
│ ค่าเฉลี่ย: 24°C | สูงสุด: 28°C | ต่ำสุด: 22°C │
│                                         │
│ 📊 ความชื้น (%)                        │
│ ปัจจุบัน: 65%                          │
│ [กราฟเส้น 7 วัน]                       │
│ ค่าเฉลี่ย: 63% | สูงสุด: 70% | ต่ำสุด: 58% │
└─────────────────────────────────────────┘

💡 คลิกจุดบนกราฟ → เห็นค่าในเวลานั้น
💡 Hover บนกราฟ → เห็น tooltip รายละเอียด
```


#### 4. เปรียบเทียบรอบต่าง ๆ
```
คลิกแท็บ "เปรียบเทียบ"
↓
เลือกรอบที่ต้องการเปรียบเทียบ:

[✓] รอบที่ 1 - สูตร A
[✓] รอบที่ 2 - สูตร B (ถ้ามีข้อมูล)
[ ] รอบที่ 3 - สูตร C
↓
ระบบแสดงกราฟเปรียบเทียบ:

┌─────────────────────────────────────────┐
│ 📊 เปรียบเทียบการเจริญเติบโต           │
├─────────────────────────────────────────┤
│ 📈 ความสูงเฉลี่ย (ซม.)                 │
│ [กราฟเส้น 2 เส้น]                      │
│ • รอบที่ 1: 12 ซม. (วันที่ 15)        │
│ • รอบที่ 2: 10 ซม. (วันที่ 15)        │
│ ผลต่าง: +2 ซม. (20% ดีกว่า)           │
│                                         │
│ 📈 น้ำหนักเฉลี่ย (กรัม)                │
│ [กราฟเส้น 2 เส้น]                      │
│ • รอบที่ 1: 25 ก. (วันที่ 15)         │
│ • รอบที่ 2: 22 ก. (วันที่ 15)         │
│ ผลต่าง: +3 ก. (13.6% ดีกว่า)          │
│                                         │
│ 📈 จำนวนใบเฉลี่ย (ใบ)                 │
│ [กราฟเส้น 2 เส้น]                      │
│ • รอบที่ 1: 6 ใบ                       │
│ • รอบที่ 2: 5 ใบ                       │
│ ผลต่าง: +1 ใบ (20% ดีกว่า)            │
│                                         │
│ 📊 ปัญหาที่พบ                          │
│ • Crop 1: 2 ครั้ง (ใบเหลือง 2)       │
│ • Crop 2: 5 ครั้ง (ใบเหลือง 3, โรค 2)│
│                                         │
│ 📊 ข้อมูล IoT เฉลี่ย                  │
│ • Crop 1: pH 6.2, EC 1.8, Temp 25°C  │
│ • Crop 2: pH 6.5, EC 1.9, Temp 24°C  │
│                                         │
│ 💡 สรุป: Crop 1 (สูตร A) ให้ผลดีกว่า │
│    Crop 2 ประมาณ 15-20%               │
└─────────────────────────────────────────┘
```


#### 5. Export ข้อมูล
```
กดปุ่ม "📥 Export ข้อมูล"
↓
เลือกรูปแบบ:

┌─────────────────────────────────────────┐
│ 📥 Export ข้อมูล                       │
├─────────────────────────────────────────┤
│ รูปแบบไฟล์:                            │
│ ( ) Excel (.xlsx) ← เลือก             │
│ ( ) CSV                                │
│ ( ) PDF Report                         │
│ ( ) JSON (สำหรับ AI/ML)                │
│                                         │
│ ข้อมูลที่ต้องการ:                      │
│ [✓] ข้อมูลการเจริญเติบโต               │
│ [✓] ข้อมูลเซนเซอร์                     │
│ [✓] รูปภาพ                             │
│ [✓] ปัญหาที่พบ                         │
│ [ ] Timeline ทั้งหมด                   │
│                                         │
│ ช่วงเวลา:                              │
│ ( ) ทั้งหมด                            │
│ (•) กำหนดเอง                           │
│     จาก: 01/11/2025                    │
│     ถึง: 10/11/2025                    │
│                                         │
│ Crop ที่ต้องการ:                       │
│ [✓] Crop 1                             │
│ [ ] Crop 2                             │
│                                         │
├─────────────────────────────────────────┤
│ [ยกเลิก]              [📥 Download]    │
└─────────────────────────────────────────┘
↓
กด "Download"
↓
ระบบสร้างไฟล์:
"ทดสอบสูตรปุ๋ยใหม่A_Crop1_01-10Nov2025.xlsx"
↓
Download เสร็จ
```

### ✅ ผลลัพธ์
- เห็นภาพรวมโครงการทั้งหมด
- ดูข้อมูลเซนเซอร์แบบ real-time
- เปรียบเทียบผลระหว่าง Crop ได้
- Export ข้อมูลไปใช้ต่อได้
- ตัดสินใจได้ว่าสูตรไหนดีกว่า


---

## 🔬 Flow 4: นักวิจัย - วิเคราะห์และ Export ข้อมูล

### 🎯 เป้าหมาย
ดูข้อมูล Hybrid (คน + IoT + กล้อง) วิเคราะห์แนวโน้ม และ export ข้อมูล

### 📝 Steps

#### 1. ดูข้อมูล Hybrid ทั้งหมด
```
เข้าโครงการ → แท็บ "ข้อมูลทั้งหมด"
↓
เห็นตาราง Hybrid:

┌────────────────────────────────────────────────────────────────────────┐
│ 📊 ข้อมูล Hybrid - Crop 1                                             │
├────────────────────────────────────────────────────────────────────────┤
│ [Filter] [Search] [Sort]                              [📥 Export]     │
├────────────────────────────────────────────────────────────────────────┤
│ วันที่ │เวลา│Layer│สูง│ใบ│น้ำหนัก│สี │pH │EC │Temp│รูป│แหล่ง│ │
├────────────────────────────────────────────────────────────────────────┤
│ 10/11 │09:30│ A1  │12 │6 │25    │เข้ม│6.2│1.8│25°C│[3]│Hybrid│ │
│ 10/11 │09:45│ A2  │11 │5 │23    │เข้ม│6.3│1.7│25°C│[3]│Hybrid│ │
│ 10/11 │10:00│ A3  │13 │7 │28    │เข้ม│6.1│1.9│26°C│[4]│Hybrid│ │
│ 10/11 │10:15│ A4  │10 │5 │22    │อ่อน│6.4│1.8│25°C│[3]│Hybrid│ │
│ ...   │... │...  │...│..│...   │... │...│...│... │...│...   │ │
└────────────────────────────────────────────────────────────────────────┘

รวม: 45 รายการ
💡 แหล่งข้อมูล: Hybrid = คน + IoT + กล้อง
```

#### 2. กรองและค้นหาข้อมูล
```
ใช้ Filter:

┌─────────────────────────────────────────┐
│ 🔍 Filter ข้อมูล                       │
├─────────────────────────────────────────┤
│ วันที่:                                 │
│ จาก: [01/11/2025]                      │
│ ถึง: [10/11/2025]                      │
│                                         │
│ โรงเรือน:                              │
│ [✓] โรงเรือน 1  [ ] โรงเรือน 2        │
│                                         │
│ Zone:                                   │
│ [✓] Zone A  [ ] Zone B  [ ] Zone C    │
│                                         │
│ Layer:                                  │
│ [✓] A1  [✓] A2  [✓] A3                 │
│ [ ] A4  [ ] A5                         │
│                                         │
│ สีใบ:                                  │
│ [✓] เขียวเข้ม                          │
│ [ ] เขียวอ่อน                          │
│ [ ] เหลือง                             │
│                                         │
│ มีปัญหา:                               │
│ [✓] แสดงเฉพาะที่มีปัญหา               │
│                                         │
│ [ล้าง Filter]         [ใช้ Filter]    │
└─────────────────────────────────────────┘
↓
ระบบแสดงเฉพาะข้อมูลที่ตรงเงื่อนไข
พบ: 28 รายการ
```


#### 3. ดูกราฟและแนวโน้ม
```
แท็บ "กราฟ" → เห็น:

┌─────────────────────────────────────────┐
│ 📈 กราฟแนวโน้ม                         │
├─────────────────────────────────────────┤
│ เลือกข้อมูล:                           │
│ (•) ความสูง                            │
│ ( ) น้ำหนัก                            │
│ ( ) จำนวนใบ                            │
│                                         │
│ แสดงแบบ:                               │
│ (•) เฉลี่ย                             │
│ ( ) แยกตาม Layer                       │
│ ( ) แยกตามวัน                          │
│                                         │
│ 📊 กราฟความสูงเฉลี่ยต่อวัน             │
│ [กราฟเส้นแสดงแนวโน้มเพิ่มขึ้น]         │
│                                         │
│ วันที่ 1: 5 ซม.                        │
│ วันที่ 5: 8 ซม.                        │
│ วันที่ 10: 11 ซม.                      │
│ วันที่ 15: 12 ซม. (ปัจจุบัน)          │
│                                         │
│ 📊 อัตราการเจริญเติบโต                 │
│ • วันที่ 1-5: +0.6 ซม./วัน            │
│ • วันที่ 6-10: +0.6 ซม./วัน           │
│ • วันที่ 11-15: +0.2 ซม./วัน ⚠️ ช้าลง │
│                                         │
│ 💡 AI แนะนำ:                           │
│ "การเจริญเติบโตช้าลงในช่วง 5 วันหลัง  │
│  อาจเกี่ยวข้องกับ pH สูงในช่วงเดียวกัน│
│  แนะนำตรวจสอบระบบปุ๋ย"                │
└─────────────────────────────────────────┘

💡 คลิกจุดบนกราฟ → เห็นรายละเอียดวันนั้น
💡 คลิกขวา → Export กราฟเป็นรูป
```

#### 4. ดู Gallery รูปภาพ
```
แท็บ "รูปภาพ" → เห็น gallery:

┌─────────────────────────────────────────┐
│ 📷 Gallery รูปภาพทั้งหมด               │
├─────────────────────────────────────────┤
│ [Filter: วันที่ | โรงเรือน | Zone | Layer | ประเภท] │
│                                         │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐       │
│ │ 📷  │ │ 📷  │ │ 📷  │ │ 📷  │       │
│ │10/11│ │10/11│ │10/11│ │10/11│       │
│ │09:30│ │09:45│ │10:00│ │10:15│       │
│ │ A1  │ │ A2  │ │ A3  │ │ A4  │       │
│ └─────┘ └─────┘ └─────┘ └─────┘       │
│                                         │
│ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐       │
│ │ 📷  │ │ 📷  │ │ 📷  │ │ 📷  │       │
│ │09/11│ │09/11│ │09/11│ │09/11│       │
│ │14:20│ │14:35│ │15:00│ │15:15│       │
│ │ A1  │ │ A2  │ │ A3  │ │ A4  │       │
│ └─────┘ └─────┘ └─────┘ └─────┘       │
│                                         │
│ [โหลดเพิ่ม...]                         │
└─────────────────────────────────────────┘
↓
คลิกรูป → เห็นรายละเอียด:

┌─────────────────────────────────────────┐
│ 📷 รูปภาพ - 10/11/2025 09:30          │
├─────────────────────────────────────────┤
│ [รูปภาพขนาดใหญ่]                       │
│                                         │
│ 📍 ตำแหน่ง: โรงเรือน 1 → Zone A → Layer A1 │
│ ⏰ เวลา: 09:30                         │
│ 👤 บันทึกโดย: สมชาย                   │
│                                         │
│ 📊 ข้อมูลที่บันทึกพร้อมกัน:            │
│ • ความสูง: 12 ซม.                     │
│ • จำนวนใบ: 6 ใบ                       │
│ • น้ำหนัก: 25 กรัม                    │
│ • สีใบ: เขียวเข้ม                     │
│                                         │
│ [⬅️ ก่อนหน้า] [Download] [➡️ ถัดไป]  │
└─────────────────────────────────────────┘
```


#### 5. Export ข้อมูล Hybrid
```
กดปุ่ม "📥 Export ข้อมูล"
↓
เลือกรูปแบบ:

┌─────────────────────────────────────────┐
│ 📥 Export ข้อมูล Hybrid                │
├─────────────────────────────────────────┤
│ รูปแบบไฟล์:                            │
│ (•) Excel (.xlsx)                      │
│ ( ) CSV                                │
│ ( ) PDF Report                         │
│                                         │
│ ข้อมูลที่ต้องการ:                      │
│ [✓] ข้อมูลที่คนบันทึก                  │
│ [✓] ข้อมูลจาก IoT (pH, EC, Temp)      │
│ [✓] รูปภาพ (คน + กล้องอัตโนมัติ)      │
│ [✓] ปัญหาที่พบ                         │
│ [✓] Timeline ทั้งหมด                   │
│                                         │
│ ช่วงเวลา:                              │
│ ( ) ทั้งหมด                            │
│ (•) กำหนดเอง                           │
│     จาก: 01/11/2025                    │
│     ถึง: 10/11/2025                    │
│                                         │
│ Crop ที่ต้องการ:                       │
│ [✓] Crop 1                             │
│ [ ] Crop 2                             │
│                                         │
├─────────────────────────────────────────┤
│ [ยกเลิก]              [📥 Download]    │
└─────────────────────────────────────────┘
↓
กด "Download"
↓
ระบบสร้างไฟล์:
"ทดสอบสูตรปุ๋ยใหม่A_Crop1_Hybrid_01-10Nov2025.xlsx"

ไฟล์ประกอบด้วย:
📊 Sheet 1: ข้อมูลที่คนบันทึก
📊 Sheet 2: ข้อมูล IoT (pH, EC, Temp, Humidity)
📊 Sheet 3: รายการรูปภาพ (คน + กล้อง)
📊 Sheet 4: ปัญหาที่พบ
↓
Download เสร็จ
```

### ✅ ผลลัพธ์
- วิเคราะห์ข้อมูล Hybrid ได้ง่าย
- เห็นความสัมพันธ์ระหว่างข้อมูลคน + IoT
- เห็นแนวโน้มและปัญหา
- Export ข้อมูลครบถ้วน
- ข้อมูลมีโครงสร้างชัดเจน


---

## 💻 Flow 5: Web App บน iPad - บันทึกข้อมูลในสนาม

### 🎯 เป้าหมาย
ใช้ Web App บน iPad เพื่อบันทึกข้อมูลขณะอยู่ในโรงเรือน

### 📝 Steps

#### 1. เปิด Web App บน iPad
```
เปิด Safari/Chrome บน iPad
↓
เข้า farmlab.example.com
↓
Login (ระบบจำ session ไว้)
↓
หน้าแรกแสดงโครงการที่มีสิทธิ์
```

#### 2. UI ที่เหมาะกับ iPad
```
Web App ปรับ UI สำหรับ iPad:

┌─────────────────────────────────────────┐
│ 🌱 FarmLab                    [☰ Menu] │
├─────────────────────────────────────────┤
│                                         │
│ ┌─────────────┐  ┌─────────────┐      │
│ │ ทดสอบสูตร  │  │ ทดสอบแสง   │      │
│ │ ปุ๋ยใหม่ A  │  │ LED         │      │
│ │             │  │             │      │
│ │ รอบที่ 1    │  │ รอบที่ 2    │      │
│ │ วันที่ 15/30│  │ วันที่ 8/30 │      │
│ │             │  │             │      │
│ │ [บันทึก]    │  │ [บันทึก]    │      │
│ └─────────────┘  └─────────────┘      │
│                                         │
└─────────────────────────────────────────┘

💡 ปุ่มใหญ่ เหมาะกับการแตะด้วยนิ้ว
💡 ฟอนต์ใหญ่ อ่านง่าย
💡 Layout แนวนอน เหมาะกับ iPad
```

#### 3. บันทึกข้อมูลด้วย iPad Camera
```
เลือกโครงการ → เลือกรอบ
↓
กดปุ่ม "+ บันทึกข้อมูล" (ปุ่มใหญ่)
↓
ฟอร์มแสดงแบบ Full Screen:

┌─────────────────────────────────────────┐
│ 📝 บันทึกข้อมูล - ผักกาดหอม            │
├─────────────────────────────────────────┤
│ 📍 ตำแหน่ง                             │
│ โรงเรือน: [โรงเรือน 1] ▼              │
│ Zone: [Zone A] ▼                       │
│ Layer: [Layer A3] ▼                    │
│                                         │
│ 📊 ข้อมูล (ฟิลด์ใหญ่ เหมาะกับ iPad)   │
│ ความสูง (ซม.): [12]                   │
│ จำนวนใบ (ใบ): [6]                     │
│ สีใบ: [เขียวเข้ม] ▼                   │
│ น้ำหนัก (กรัม): [25]                  │
│                                         │
│ 📷 รูปภาพ                              │
│ [📷 ถ่ายรูปด้วย iPad Camera]           │
│                                         │
│ ┌─────┐ ┌─────┐ ┌─────┐               │
│ │ 📷  │ │ 📷  │ │ 📷  │               │
│ │รูป1 │ │รูป2 │ │รูป3 │               │
│ └─────┘ └─────┘ └─────┘               │
│                                         │
│ หมายเหตุ:                              │
│ [เจริญเติบโตดี...]                     │
│                                         │
│ [ยกเลิก]              [💾 บันทึก]     │
└─────────────────────────────────────────┘

💡 iPad Camera เปิดได้ทันที
💡 ถ่ายรูปได้หลายรูปต่อเนื่อง
💡 Preview รูปก่อนบันทึก
```

#### 4. ใช้งานแบบ Responsive
```
Web App ปรับตามการหมุน iPad:

📱 แนวตั้ง (Portrait):
- ฟอร์มแสดงแบบเต็มหน้าจอ
- Scroll ขึ้นลง
- เหมาะกับการถ่ายรูป

💻 แนวนอน (Landscape):
- แสดง 2 คอลัมน์
- ซ้าย: ฟอร์ม | ขวา: รูปภาพ
- เหมาะกับการกรอกข้อมูล
```

### ✅ ผลลัพธ์
- ใช้ Web App ไม่ต้องติดตั้ง App
- iPad Camera คุณภาพดี เหมาะกับถ่ายรูปพืช
- UI ใหญ่ชัด ใช้งานง่ายในสนาม
- ข้อมูลบันทึกทันที ไม่ต้อง sync
- เปิดได้ทั้ง iPad และคอมพิวเตอร์


---

## 🔄 Flow Summary

### การไหลของข้อมูล (Data Flow):
```
นักวิจัย → สร้างโครงการ + Template
    ↓
นักวิจัย → สร้างรอบการทดลอง
    ↓
นักวิจัย → เชิญทีมเข้าโครงการ
    ↓
คนปลูก → บันทึกข้อมูลตาม Template
    ↓
ระบบ → เก็บข้อมูล + รูปภาพ
    ↓
เซนเซอร์ → ส่งข้อมูล pH, EC, อุณหภูมิ
    ↓
ระบบ → รวมข้อมูลทั้งหมด
    ↓
ผู้จัดการ/นักวิจัย → ดูข้อมูล + วิเคราะห์
    ↓
นักวิจัย → Export ข้อมูล
    ↓
AI/ML → เทรนโมเดล
    ↓
ระบบ → ใช้ AI ช่วยวิเคราะห์ต่อ
```

### เวลาที่ใช้ในแต่ละ Flow:

| Flow | เวลาที่ใช้ | ความถี่ | เปรียบเทียบกับ Excel |
|------|-----------|---------|---------------------|
| สร้างโครงการ + Template | 15-20 นาที | 1 ครั้ง/โครงการ | เท่าเดิม |
| สร้าง Crop + เชื่อม IoT | 5-7 นาที | 1-2 ครั้ง/เดือน | เท่าเดิม |
| บันทึกข้อมูลปกติ | 3-5 นาที | ทุกวัน | ลด 70% (จาก 10-15 นาที) |
| บันทึกปัญหาด่วน | 1-2 นาที | เมื่อเจอปัญหา | ลด 80% (จาก 5-10 นาที) |
| ดูภาพรวม | 2-3 นาที | ทุกวัน | ลด 60% (จาก 5-8 นาที) |
| วิเคราะห์ + Export | 10-15 นาที | สัปดาห์ละ 1-2 ครั้ง | ลด 50% (จาก 20-30 นาที) |
| Export ข้อมูล Hybrid | 5 นาที | สัปดาห์ละ 1 ครั้ง | ลด 80% (จาก 20-30 นาที) |

### เปรียบเทียบก่อน-หลัง:

| งาน | ก่อน (Excel + OneDrive) | หลัง (FarmLab) | ประหยัด |
|-----|------------------------|----------------|---------|
| เปิดไฟล์ | 2-3 นาที (OneDrive ช้า) | 10 วินาที | 85% |
| บันทึกข้อมูล | 10-15 นาที | 3-5 นาที | 70% |
| อัพโหลดรูป | 5-10 นาที (ยาก) | 1 นาที | 90% |
| หาข้อมูลเก่า | 10 นาที (เลื่อนหา) | 30 วินาที (ค้นหา) | 95% |
| ดูข้อมูลเซนเซอร์ | ต้องเปิดอีกที่ | ดูในที่เดียว | - |
| เปรียบเทียบ Crop | 30 นาที (ทำเอง) | 5 นาที (อัตโนมัติ) | 83% |
| Export Hybrid | 20-30 นาที (จัดข้อมูล) | 5 นาที (อัตโนมัติ) | 80% |


---

## 💡 Key Features ที่ต้องมี

### Must Have (4-6 สัปดาห์):
- ✅ สร้างโครงการและ Crop (รอบปลูก)
- ✅ สร้าง Template แบบกำหนดเอง
- ✅ **เชื่อมต่อ IoT** (เซนเซอร์ pH, EC, อุณหภูมิ, ความชื้น)
- ✅ **เชื่อมต่อกล้องถ่ายภาพอัตโนมัติ**
- ✅ บันทึกข้อมูล Hybrid (คน + IoT + กล้อง)
- ✅ อัพโหลดรูปภาพ (คน + กล้องอัตโนมัติ)
- ✅ บันทึกปัญหาด่วน
- ✅ ดูข้อมูลเซนเซอร์ real-time
- ✅ Dashboard แสดงภาพรวม
- ✅ Export ข้อมูล Hybrid (Excel/CSV)
- ✅ ระบบสมาชิกและสิทธิ์

### Should Have:
- ✅ ค้นหาและ Filter ข้อมูล Hybrid
- ✅ Gallery รูปภาพ (คน + กล้อง)
- ✅ Timeline แสดงประวัติ
- ✅ เปรียบเทียบ Crop ต่าง ๆ
- ✅ กราฟแนวโน้ม (คน + IoT)
- ✅ การแจ้งเตือนผ่าน LINE/Email
- ✅ กราฟความสัมพันธ์ระหว่างข้อมูลคน + IoT

### Could Have (Phase 2):
- ⭕ AI วิเคราะห์ความสัมพันธ์ระหว่างข้อมูล Hybrid
- ⭕ AI แนะนำจากข้อมูล IoT + รูปภาพ
- ⭕ PWA (Progressive Web App) สำหรับ offline mode
- ⭕ Predictive Analytics จากข้อมูล Hybrid
- ⭕ Integration กับ Controller Gen3
- ⭕ QR Code สำหรับแต่ละต้น

---

## 🎨 UI/UX Highlights

### Design Principles:
1. **ใช้งานง่าย** - เน้นความเรียบง่าย ไม่ซับซ้อน
2. **รวดเร็ว** - บันทึกข้อมูลได้ภายใน 3-5 นาที
3. **ชัดเจน** - แสดงข้อมูลที่สำคัญเด่นชัด
4. **Responsive** - ทำงานได้ทั้งคอมพิวเตอร์และ iPad
5. **Touch-Friendly** - ปุ่มและฟิลด์ใหญ่ เหมาะกับการแตะ

### Key UI Elements:
- **Dashboard Cards** - แสดงข้อมูลสำคัญแบบ card
- **Timeline** - แสดงประวัติเป็น timeline
- **Charts** - กราฟแสดงแนวโน้ม
- **Gallery** - แสดงรูปภาพแบบ grid
- **Forms** - ฟอร์มที่ปรับตาม template
- **Filters** - กรองข้อมูลได้ง่าย

### Color Coding:
- 🟢 **เขียว** - ปกติ, สำเร็จ
- 🟡 **เหลือง** - คำเตือน
- 🔴 **แดง** - ปัญหา, ด่วน
- 🔵 **น้ำเงิน** - ข้อมูล, ลิงก์

---

## 📊 Success Metrics

### การใช้งาน:
- จำนวนโครงการที่สร้าง
- จำนวนข้อมูลที่บันทึกต่อวัน
- จำนวนผู้ใช้งานที่ active
- เวลาเฉลี่ยในการบันทึกข้อมูล

### ประสิทธิภาพ:
- ลดเวลาบันทึกข้อมูล 70%
- ลดเวลาหาข้อมูลเก่า 90%
- เพิ่มคุณภาพข้อมูล 80%
- ลดเวลาเตรียมข้อมูลสำหรับ AI 90%

### ความพึงพอใจ:
- User satisfaction score > 4/5
- จำนวนปัญหาที่รายงาน < 5 ต่อเดือน
- อัตราการใช้งานต่อเนื่อง > 80%

---

**สรุป:** User flows ครอบคลุมการใช้งานหลักทั้งหมด ตั้งแต่การสร้างโครงการ บันทึกข้อมูล ไปจนถึงการวิเคราะห์และ export ข้อมูล โดยเน้นความง่ายและรวดเร็วในการใช้งาน พร้อมลดเวลาการทำงานลง 70-90% เมื่อเทียบกับการใช้ Excel + OneDrive

---

**Last Updated:** 10 พฤศจิกายน 2025
